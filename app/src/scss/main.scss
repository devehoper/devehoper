
@use './colors.scss';
@use './effects.scss';
@use './theming';
@use './partials/header';
@use './partials/footer';

/* ==========================
   VARIABLES & THEMES
========================== */

// This single mixin call generates all theme classes (.theme-default, .theme-dark)
// and their corresponding CSS variables.
@include theming.apply-themes;

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-size: 16px;
  line-height: 1.6;
  // Apply base colors using CSS variables. These will automatically update
  // when the theme class on the body changes.
  color: var(--feigniter-text);
  background-color: var(--feigniter-background-body);
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
}

h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: 1.3;
  color: var(--feigniter-heading-text);
}


#feigniter {
  width: 100%;
  height: 100%;
  display: flex; /* Optional: enables layout control inside */
  flex-direction: column;
}

#loader {
  display: none; /* Hidden by default */
}

#img-preview {
  background-color: rgba(0, 0, 0, 0.9);
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  cursor: zoom-out;
  transition: opacity 0.3s ease;
  opacity: 0;
}

#img-preview.show {
  opacity: 1;
}

.header-menu-icon {
  background-color: transparent;
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 50%;
  padding: 0.5rem;
  transition: background-color 0.3s ease, transform 0.2s ease;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
  color: var(--feigniter-text);
  cursor: pointer;
}

.header-menu-icon:hover {
  background-color: rgba(255, 255, 255, 0.1);
  transform: scale(1.05);
}

/* ==========================
   MAIN CONTENT
========================== */
main {
  flex-grow: 1;
  padding: 2rem 0;

  .hero-section {
    text-align: center;
    padding: 4rem 0;
    background-color: var(--feigniter-background-alt);
    border-radius: 0.5rem;
    margin-bottom: 2rem;

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    p.lead {
      font-size: 1.25rem;
      color: var(--feigniter-text-muted);
      margin-bottom: 2rem;
    }
  }
}

.btn-signin {
  padding: 5px;
}
.btn-signin:hover {
  cursor: pointer;
}

/*
 * Global styles for all validation error message containers.
 * We target both the Bootstrap class and the ID pattern to increase specificity,
 * ensuring these styles override broad theme colors.
 */
.invalid-feedback[id$="-error"] {
  font-weight: 500;
  color:  var(--feigniter-danger) !important; /* Use CSS var for danger color */
}

/* ==========================================================================
   THEME-AWARE GLOBAL STYLES
   This section restores the broad application of theme colors from the
   original theme files, but uses the modern CSS variable approach.
   ========================================================================== */

section, article, aside, header, footer, main, nav, ul, ol, li, pre, code, blockquote, figure, figcaption, div {
  background-color: var(--feigniter-background);
  color: var(--feigniter-text);
}

a {
  color: var(--feigniter-text);
}

::selection {
  background-color: var(--feigniter-selection-bg);
  color: var(--feigniter-text);
}

table, thead, tbody, tfoot, tr, td, th {
  background-color: var(--feigniter-background);
  color: var(--feigniter-text);
}

/*
 * Theme-aware component styles
 */
#genericModal {
  .modal-content {
    background-color: var(--feigniter-background);
    color: var(--feigniter-text);
    border: 2px solid var(--feigniter-modal-border);
    opacity: 0.9;
  }
}

/* ==========================================================================
   reCAPTCHA Badge Visibility Control
   ========================================================================== */

/* Hide the reCAPTCHA badge by default */
.grecaptcha-badge {
  visibility: hidden;
}

/* Show the badge only when the modal is open AND the body has the 'recaptcha-active' class */
body.recaptcha-active #genericModal.show + .grecaptcha-badge {
  visibility: visible;
}
